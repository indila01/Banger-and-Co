(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{202:function(e,t,a){},203:function(e,t,a){},271:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(28),r=a.n(c),s=a(12),i=a(87),l=a(181),o=a(182),j=a(18),d="VEHICLE_LIST_REQUEST",b="VEHICLE_LIST_SUCCESS",u="VEHICLE_LIST_FAIL",h="VEHICLE_DETAILS_REQUEST",O="VEHICLE_DETAILS_SUCCESS",p="VEHICLE_DETAILS_FAIL",x="VEHICLE_DELETE_REQUEST",m="VEHICLE_DELETE_SUCCESS",f="VEHICLE_DELETE_FAIL",g="VEHICLE_CREATE_REQUEST",v="VEHICLE_CREATE_SUCCESS",y="VEHICLE_CREATE_FAIL",E="VEHICLE_CREATE_RESET",I="VEHICLE_UPDATE_REQUEST",N="VEHICLE_UPDATE_SUCCESS",S="VEHICLE_UPDATE_FAIL",C="VEHICLE_UPDATE_RESET",w="VEHICLE_CREATE_REVIEW_REQUEST",k="VEHICLE_CREATE_REVIEW_SUCCESS",D="VEHICLE_CREATE_REVIEW_FAIL",L="VEHICLE_CREATE_REVIEW_RESET",_="VEHICLE_TOP_REQUEST",T="VEHICLE_TOP_SUCCESS",A="VEHICLE_TOP_FAIL",P="USER_LOGIN_REQUEST",R="USER_LOGIN_SUCCESS",U="USER_LOGIN_FAIL",G="USER_LOGOUT",B="USER_REGISTER_REQUEST",F="USER_REGISTER_SUCCESS",V="USER_REGISTER_FAIL",M="USER_DETAILS_REQUEST",q="USER_DETAILS_SUCCESS",H="USER_DETAILS_FAIL",z="USER_DETAILS_RESET",K="USER_UPDATE_PROFILE_REQUEST",Y="USER_UPDATE_PROFILE_SUCCESS",Q="USER_UPDATE_PROFILE_FAIL",$="USER_UPDATE_PROFILE_RESET",J="USER_LIST_REQUEST",W="USER_LIST_SUCCESS",X="USER_LIST_FAIL",Z="USER_LIST_RESET",ee="USER_DELETE_REQUEST",te="USER_DELETE_SUCCESS",ae="USER_LIST_FAIL",ne="USER_UPDATE_REQUEST",ce="USER_UPDATE_SUCCESS",re="USER_UPDATE_FAIL",se="USER_UPDATE_RESET",ie="BOOKING_SAVE_DRIVER_DETAILS",le="BOOKING_SAVE_PAYMENT_METHOD",oe="BOOKING_SAVE_BOOKING_DETAILS",je="BOOKING_SAVE_VEHICLE_DETAILS",de="BOOKING_SAVE_EQUIPMENTS_DETAILS",be="BOOKING_CREATE_REQUEST",ue="BOOKING_CREATE_SUCCESS",he="BOOKING_CREATE_FAIL",Oe="BOOKING_CREATE_RESET",pe="BOOKING_DETAILS_REQUEST",xe="BOOKING_DETAILS_SUCCESS",me="BOOKING_DETAILS_FAIL",fe="BOOKING_DETAILS_RESET",ge="BOOKING_PAY_REQUEST",ve="BOOKING_PAY_SUCCESS",ye="BOOKING_PAY_FAIL",Ee="BOOKING_PAY_RESET",Ie="BOOKING_LIST_MY_REQUEST",Ne="BOOKING_LIST_MY_SUCCESS",Se="BOOKING_LIST_MY_FAIL",Ce="BOOKING_LIST_MY_RESET",we="BOOKING_LIST_REQUEST",ke="BOOKING_LIST_SUCCESS",De="BOOKING_LIST_FAIL",Le="BOOKING_VERIFY_REQUEST",_e="BOOKING_VERIFY_SUCCESS",Te="BOOKING_VERIFY_FAIL",Ae="BOOKING_VERIFY_RESET",Pe="EQUIPMENT_LIST_REQUEST",Re="EQUIPMENT_LIST_SUCCESS",Ue="EQUIPMENT_LIST_FAIL",Ge=Object(i.combineReducers)({equipmentList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{equipments:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return{loading:!0,equipments:[]};case Re:return{loading:!1,equipments:t.payload};case Ue:return{loading:!1,error:t.payload};default:return e}},vehicleList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vehicles:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0,vehicles:[]};case b:return{loading:!1,vehicles:t.payload.vehicles,pages:t.payload.pages,page:t.payload.page};case u:return{loading:!1,error:t.payload};default:return e}},vehicleDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vehicle:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(j.a)({loading:!0},e);case O:return{loading:!1,vehicle:t.payload};case p:return{loading:!1,error:t.payload};default:return e}},vehicleDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case m:return{loading:!1,success:!0};case f:return{loading:!1,error:t.payload};default:return e}},vehicleCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case v:return{loading:!1,success:!0,vehicle:t.payload};case y:return{loading:!1,error:t.payload};case E:return{};default:return e}},vehicleUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vehicle:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case N:return{loading:!1,success:!0,vehicle:t.payload};case S:return{loading:!1,error:t.payload};case C:return{vehicle:{}};default:return e}},vehicleReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case k:return{loading:!1,success:!0};case D:return{loading:!1,error:t.payload};case L:return{};default:return e}},vehicleTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vehicles:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0,vehicles:[]};case T:return{loading:!1,vehicles:t.payload};case A:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{loading:!0};case R:return{loading:!1,userInfo:t.payload};case U:return{loading:!1,error:t.payload};case G:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case F:return{loading:!1,userInfo:t.payload};case V:return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case q:return{loading:!1,user:t.payload};case H:return{loading:!1,error:t.payload};case z:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case Y:return{loading:!1,success:!0,userInfo:t.payload};case Q:return{loading:!1,error:t.payload};case $:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{loading:!0};case W:return{loading:!1,users:t.payload};case X:return{loading:!1,error:t.payload};case Z:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{loading:!0};case te:return{loading:!1,success:!0};case ae:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{loading:!0};case ce:return{loading:!1,success:!0};case re:return{loading:!1,error:t.payload};case se:return{users:{}};default:return e}},bookingDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{driverDetails:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(j.a)(Object(j.a)({},e),{},{driverDetails:t.payload});case de:return Object(j.a)(Object(j.a)({},e),{},{equipments:t.payload});case le:return Object(j.a)(Object(j.a)({},e),{},{paymentMethod:t.payload});case je:return Object(j.a)(Object(j.a)({},e),{},{vehicleDetails:t.payload});case oe:return Object(j.a)(Object(j.a)({},e),{},{bookingDetails:t.payload});default:return e}},bookingCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{loading:!0};case ue:return{loading:!1,success:!0,booking:t.payload};case he:return{loading:!1,error:t.payload};case Oe:return{};default:return e}},bookingDetailsById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case xe:return{loading:!1,booking:t.payload};case me:return{loading:!1,error:t.payload};case fe:return{booking:{}};default:return e}},bookingPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return{loading:!0};case ve:return{loading:!1,success:!0};case ye:return{loading:!1,error:t.payload};case Ee:return{};default:return e}},bookingVerify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return{loading:!0};case _e:return{loading:!1,success:!0};case Te:return{loading:!1,error:t.payload};case Ae:return{};default:return e}},bookingListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bookings:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{loading:!0};case Ne:return{loading:!1,bookings:t.payload};case Se:return{loading:!1,error:t.payload};case Ce:return{bookings:[]};default:return e}},bookingList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bookings:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return{loading:!0};case ke:return{loading:!1,bookings:t.payload};case De:return{loading:!1,error:t.payload};default:return e}}}),Be={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},bookingDetails:{driverDetails:localStorage.getItem("driverDetails")?JSON.parse(localStorage.getItem("driverDetails")):{},vehicleDetails:localStorage.getItem("vehicleDetails")?JSON.parse(localStorage.getItem("vehicleDetails")):{},bookingDetails:localStorage.getItem("bookingDetails")?JSON.parse(localStorage.getItem("bookingDetails")):{}}},Fe=[l.a],Ve=Object(i.createStore)(Ge,Be,Object(o.composeWithDevTools)(i.applyMiddleware.apply(void 0,Fe))),Me=(a(202),a(203),a(19)),qe=a(26),He=a(281),ze=a(282),Ke=a(183),Ye=a(1),Qe=function(){return Object(Ye.jsx)("footer",{children:Object(Ye.jsx)(He.a,{children:Object(Ye.jsx)(ze.a,{children:Object(Ye.jsx)(Ke.a,{className:"text-center py-3",children:"Copyright \xa9 Banger and Co"})})})})},$e=a(290),Je=a(291),We=a(287),Xe=a(29),Ze=a(15),et=a.n(Ze),tt=a(23),at=a(20),nt=a.n(at),ct=function(e){return function(){var t=Object(tt.a)(et.a.mark((function t(a,n){var c,r,s,i,l;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:M}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,nt.a.get("/api/users/".concat(e),s);case 6:i=t.sent,l=i.data,a({type:q,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:H,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},rt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(Ye.jsx)("header",{children:Object(Ye.jsx)($e.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(Ye.jsxs)(He.a,{children:[Object(Ye.jsx)(Xe.LinkContainer,{to:"/",children:Object(Ye.jsx)($e.a.Brand,{href:"/",children:Object(Ye.jsxs)("strong",{className:"h4 mb-0 font-weight-bold",style:{color:"white"},children:[Object(Ye.jsx)("i",{className:"fas fa-car-alt"})," Banger and Co"]})})}),Object(Ye.jsx)($e.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Ye.jsx)($e.a.Collapse,{id:"basic-navbar-nav",children:Object(Ye.jsxs)(Je.a,{className:"ms-auto",children:[t?Object(Ye.jsxs)(We.a,{title:Object(Ye.jsxs)("strong",{children:[t.firstName," ",t.lastName]}),id:"username",children:[Object(Ye.jsx)(Xe.LinkContainer,{to:"/profile",children:Object(Ye.jsxs)(We.a.Item,{children:[Object(Ye.jsx)("i",{className:"fas fa-user"})," Profile"]})}),Object(Ye.jsxs)(We.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("vehicleDetails"),localStorage.removeItem("driverDetails"),localStorage.removeItem("paymentMethod"),e({type:G}),e({type:Z}),e({type:Ce}),e({type:fe}),e({type:z}),document.location.href="/login"}))},children:[Object(Ye.jsx)("i",{class:"fas fa-sign-out-alt"})," Logout"]})]}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Xe.LinkContainer,{to:"/login",children:Object(Ye.jsx)(Je.a.Link,{children:"Login"})}),Object(Ye.jsx)(Xe.LinkContainer,{to:"/register",children:Object(Ye.jsx)(Je.a.Link,{children:"Register"})})]}),t&&t.isAdmin&&Object(Ye.jsxs)(We.a,{title:"Admin",id:"adminmenu",children:[Object(Ye.jsx)(Xe.LinkContainer,{to:"/admin/userlist",children:Object(Ye.jsxs)(We.a.Item,{children:[Object(Ye.jsx)("i",{className:"fas fa-users"})," Users"]})}),Object(Ye.jsx)(Xe.LinkContainer,{to:"/admin/vehiclelist",children:Object(Ye.jsxs)(We.a.Item,{children:[Object(Ye.jsx)("i",{className:"fas fa-car-alt"})," Vehicles"]})}),Object(Ye.jsx)(Xe.LinkContainer,{to:"/admin/bookinglist",children:Object(Ye.jsxs)(We.a.Item,{children:[Object(Ye.jsx)("i",{className:"fas fa-book"})," Bookings"]})})]})]})})]})})})},st=a(11),it=a(288),lt=a(184),ot=a(289),jt=a(285),dt=a(292),bt=function(e){var t=e.value,a=e.text,n=e.color;return Object(Ye.jsxs)("div",{className:"rating",children:[Object(Ye.jsx)("span",{children:Object(Ye.jsx)("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ye.jsx)("span",{children:Object(Ye.jsx)("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ye.jsx)("span",{children:Object(Ye.jsx)("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ye.jsx)("span",{children:Object(Ye.jsx)("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ye.jsx)("span",{children:Object(Ye.jsx)("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ye.jsx)("span",{children:a&&a})]})};bt.defaultProps={color:"#de0000"};var ut=bt,ht=function(e){var t=e.vehicle;return Object(Ye.jsxs)(dt.a,{className:"my-3 p-3 rounded",children:[Object(Ye.jsx)(Me.Link,{to:"/vehicle/".concat(t._id),children:Object(Ye.jsx)(dt.a.Img,{src:t.image,variant:"top"})}),Object(Ye.jsxs)(dt.a.Body,{children:[Object(Ye.jsx)(dt.a.Title,{className:"mb-0",as:"div",children:Object(Ye.jsx)("strong",{children:t.name})}),Object(Ye.jsx)(dt.a.Text,{className:"mt-0",as:"p",children:t.type}),Object(Ye.jsx)(dt.a.Text,{as:"div",children:Object(Ye.jsx)(ut,{value:t.rating,text:"".concat(t.numReviews," reviews")})}),Object(Ye.jsxs)(dt.a.Text,{as:"h3",children:["$",t.pricePerDay]}),t.isBooked?Object(Ye.jsx)(lt.a,{style:{width:"100%"},type:"button",className:"btn-block",variant:"warning",disabled:!0,children:"Booked"}):t.availability?Object(Ye.jsx)(Me.Link,{to:"/vehicle/".concat(t._id),children:Object(Ye.jsx)(lt.a,{style:{width:"100%"},type:"button",className:"btn-block",variant:"success",children:"View"})}):Object(Ye.jsx)(lt.a,{style:{width:"100%"},type:"button",className:"btn-block",variant:"dark",disabled:!0,children:"Not available"})]})]})},Ot=a(96),pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return function(){var n=Object(tt.a)(et.a.mark((function n(c){var r,s,i,l;return et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:d}),r=a?Object(Ot.default)(new Date(a[0].startDate),"yyy-MM-dd"):"",s=a?Object(Ot.default)(new Date(a[0].endDate),"yyy-MM-dd"):"",n.next=6,nt.a.get("/api/vehicles?keyword=".concat(e,"&pageNumber=").concat(t,"&startDate=").concat(r,"&endDate=").concat(s));case 6:i=n.sent,l=i.data,c({type:b,payload:l}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),c({type:u,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},xt=function(e,t){return function(){var a=Object(tt.a)(et.a.mark((function a(n){var c,r,s,i;return et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:h}),c=t?Object(Ot.default)(new Date(t[0].startDate),"yyy-MM-dd"):"",r=t?Object(Ot.default)(new Date(t[0].endDate),"yyy-MM-dd"):"",a.next=6,nt.a.get("/api/vehicles/".concat(e,"?startDate=").concat(c,"&endDate=").concat(r));case 6:s=a.sent,i=s.data,n({type:O,payload:i}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:p,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},mt=a(283),ft=function(e){var t=e.variant,a=e.children;return Object(Ye.jsx)(mt.a,{variant:t,children:a})};ft.defaultProps={variant:"info"};var gt,vt,yt,Et,It,Nt,St,Ct,wt,kt,Dt,Lt=ft,_t=a(284),Tt=function(){return Object(Ye.jsx)(_t.a,{className:"text-primary",animation:"border",role:"status",style:{width:"50px",height:"50px",margin:"auto",display:"block"},children:Object(Ye.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},At=a(35),Pt=a(293),Rt=function(e){var t=e.pages,a=e.page,n=e.isAdmin,c=void 0!==n&&n,r=e.keyword,s=void 0===r?"":r;return t>1&&Object(Ye.jsxs)(Pt.a,{children:[Object(Ye.jsx)(Pt.a.First,{}),Object(At.a)(Array(t).keys()).map((function(e){return Object(Ye.jsx)(Xe.LinkContainer,{to:c?"/admin/vehiclelist/".concat(e+1):s?"/search/".concat(s,"/page/").concat(e+1):"/page/".concat(e+1),children:Object(Ye.jsx)(Pt.a.Item,{active:e+1===a,children:e+1})},e+1)})),Object(Ye.jsx)(Pt.a.Last,{})]})},Ut=a(71),Gt=a(94),Bt=(a(130),a(131),function(e){var t=e.match,a=Object(n.useState)([{startDate:new Date,endDate:Object(Gt.default)(new Date,3),key:"selection"}]),c=Object(st.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)(""),o=Object(st.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)(!1),u=Object(st.a)(b,2),h=u[0],O=u[1],p=function(){O(!1),k()},x=Object(n.useState)(r),m=Object(st.a)(x,2),f=m[0],g=m[1],v=t.params.pageNumber||1,y=Object(s.b)(),E=Object(s.c)((function(e){return e.vehicleList})),I=E.loading,N=E.error,S=E.vehicles,C=E.page,w=E.pages;Object(n.useEffect)((function(){y(pt(j,v,f))}),[y,j,v,f]);var k=function(){g(r)};return Object(Ye.jsxs)("div",{children:[Object(Ye.jsxs)(it.a,{dialogClassName:"modal-90w",show:h,onHide:p,children:[Object(Ye.jsx)(it.a.Body,{children:Object(Ye.jsx)(Ut.DateRange,{minDate:new Date,maxDate:Object(Gt.default)(new Date,30),onChange:function(e){return i([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,rangeColors:["#febb02"],ranges:r,direction:"horizontal",dateDisplayFormat:"MM/dd/yyyy"})}),Object(Ye.jsx)(it.a.Footer,{children:Object(Ye.jsx)(lt.a,{variant:"primary",onClick:p,children:"Search"})})]}),Object(Ye.jsx)("h3",{className:"pb-0",children:"Let\u2019s find your ideal car"}),Object(Ye.jsx)("p",{children:"Search, Compare & Save"}),Object(Ye.jsx)(He.a,{className:"searchBar my-3",children:Object(Ye.jsx)(ot.a,{children:Object(Ye.jsxs)(jt.a,{style:{height:"45px"},children:[Object(Ye.jsx)(ot.a.Control,{type:"text",name:"vehicle name",placeholder:"\ud83d\udd0e Search Vehicles",onChange:function(e){return d(e.target.value)},className:"mr-sm-2 ml-sm-5"}),Object(Ye.jsx)(ot.a.Control,{type:"text",name:"dates",placeholder:"Dates",className:"mr-sm-2 ml-sm-5 mx-1",onClick:function(){return O(!0)},value:"".concat(r[0].startDate.toDateString()," - ").concat(r[0].endDate.toDateString())}),Object(Ye.jsx)(lt.a,{className:"btn-block searchbutton",type:"button",onClick:k,children:"Search"})]})})}),I?Object(Ye.jsx)(Tt,{}):N?Object(Ye.jsx)(Lt,{variant:"danger",children:N}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(ze.a,{children:S.map((function(e){return Object(Ye.jsx)(Ke.a,{sm:12,md:6,lg:4,xl:3,children:Object(Ye.jsx)(ht,{vehicle:e})},e._id)}))}),0==S&&Object(Ye.jsx)(Lt,{children:"Vehicles are not available "}),Object(Ye.jsx)(Rt,{pages:w,page:C,keyword:j||""})]})]})}),Ft=a(286),Vt=a(294),Mt=function(e){return function(t){t({type:de,payload:e})}},qt=function(e){var t=e.match,a=e.history,c=Object(n.useState)([{startDate:new Date,endDate:Object(Gt.default)(new Date,3),key:"selection"}]),r=Object(st.a)(c,2),i=r[0],l=r[1],o=Object(n.useState)(0),j=Object(st.a)(o,2),d=j[0],b=j[1],u=Object(n.useState)(""),h=Object(st.a)(u,2),O=h[0],p=h[1],x=Object(n.useState)(0),m=Object(st.a)(x,2),f=m[0],g=m[1],v=Object(n.useState)(0),y=Object(st.a)(v,2),E=y[0],I=y[1],N=Object(n.useState)(null),S=Object(st.a)(N,2),C=S[0],_=S[1],T=Object(s.b)(),A=Object(s.c)((function(e){return e.vehicleDetails})),P=A.loading,R=A.error,U=A.vehicle,G=Object(s.c)((function(e){return e.userLogin})).userInfo,B=Object(s.c)((function(e){return e.vehicleReviewCreate})),F=B.success,V=B.error;return Object(n.useEffect)((function(){F&&(b(0),p(""),T({type:L}),T(xt(t.params.id,i))),U&&U.name&&U._id===t.params.id||T(xt(t.params.id,i))}),[T,t,F,U,i]),Object(Ye.jsx)(Ye.Fragment,{children:P?Object(Ye.jsx)(Tt,{}):R?Object(Ye.jsx)(Lt,{variant:"danger",children:R}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(Ye.jsxs)(Ke.a,{md:7,children:[Object(Ye.jsx)(Ft.a,{src:U.image,alt:U.name,fluid:!0,rounded:!0}),Object(Ye.jsxs)(Vt.a,{variant:"flush",children:[Object(Ye.jsxs)(Vt.a.Item,{children:[Object(Ye.jsx)("h3",{className:"py-0",children:U.name}),Object(Ye.jsx)("h6",{children:U.licensePlateNumber}),U.type]}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)(ze.a,{children:Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"far fa-user me-1"}),U.seats," Seats"]}),Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"fas fa-cogs me-1"}),U.transmission]})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"fas fa-gas-pump me-1"}),U.fuel]}),Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"fas fa-bolt me-1"}),U.horsepower," HP"]})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[U.engine," L"]}),Object(Ye.jsxs)(Ke.a,{children:[U.miles_per_gallon," mpg"]})]}),Object(Ye.jsx)(ze.a,{children:Object(Ye.jsxs)(Ke.a,{children:[U.cylinders," cylinders"]})})]})})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)(ut,{value:U.rating,text:"".concat(U.numReviews," reviews")})})]})]}),Object(Ye.jsx)(Ke.a,{md:4,children:Object(Ye.jsx)(dt.a,{children:Object(Ye.jsxs)(Vt.a,{variant:"flush",children:[Object(Ye.jsxs)(Vt.a.Item,{children:[Object(Ye.jsx)("h4",{className:"py-2",children:"Rent Details"}),C&&Object(Ye.jsx)(Lt,{variant:"warning",children:C}),E>14&&Object(Ye.jsx)(Lt,{variant:"warning",children:"Cannot book for more than 14 days"})]}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)(ze.a,{className:"justify-content-md-center",children:Object(Ye.jsx)(Ke.a,{md:"auto",children:Object(Ye.jsx)(Ut.DateRange,{minDate:new Date,maxDate:Object(Gt.default)(new Date,30),onChange:function(e){return l([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,rangeColors:["#febb02"],ranges:i,direction:"horizontal"})})})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)(lt.a,{style:{width:"100%"},className:"btn-block",type:"button",variant:"success",onClick:function(e){e.preventDefault();for(var a=new Date(i[0].startDate),n=new Date(i[0].endDate),c=0;n>a;)c++,a.setDate(a.getDate()+1);I(c),g(c*U.pricePerDay),T(xt(t.params.id,i))},children:"Calculate cost"})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Price per day:"}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)("strong",{children:["$",U.pricePerDay]})})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"No. of days"}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsx)("strong",{children:E})})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Total cost "}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)("strong",{children:["$",f]})})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Status:"}),Object(Ye.jsx)(Ke.a,{children:U.isBooked?"Booked":U.availability?"Available":"Not Available"})]})}),Object(Ye.jsx)(Vt.a.Item,{children:P?Object(Ye.jsx)(Tt,{}):Object(Ye.jsx)(lt.a,{style:{width:"100%"},className:"btn-block",type:"button",disabled:E<1||E>14||!U.availability||U.isBooked,onClick:function(){if(G){var e=new Date,t=new Date(G.DOB),n=e.getFullYear()-t.getFullYear(),c=e.getMonth()-t.getMonth();if((c<0||0===c&&e.getDate()<t.getDate())&&n--,n<25&&"Small Town Car"!==U.type)_("Youre below 25, You can only checkout small town cars.");else if(G.isBlacklisted)_("Youre blacklisted, You cannot checkout any vehicle.");else if(G.isVerified){T((l=U,function(e){e({type:je,payload:l}),localStorage.setItem("vehicleDetails",JSON.stringify(l))}));var r=i[0].startDate,s=i[0].endDate;T(function(e){return function(t){t({type:oe,payload:e}),localStorage.setItem("bookingDetails",JSON.stringify(e))}}({totalCost:f,startDate:r,endDate:s,numberOfDays:E})),a.push("/login?redirect=equipments")}else _("Your account is not verified, You cannot checkout until admin verifies your account.")}else a.push("/login");var l},children:"Checkout"})})]})})})]}),Object(Ye.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(Ye.jsxs)(Ke.a,{md:7,children:[Object(Ye.jsx)("h2",{className:"py-2",children:"Reviews"}),0===U.reviews.length&&Object(Ye.jsx)(Lt,{children:"No reviews"}),Object(Ye.jsx)(Vt.a,{variant:"flush",children:U.reviews.map((function(e){return Object(Ye.jsxs)(Vt.a.Item,{children:[Object(Ye.jsx)("strong",{children:e.name}),Object(Ye.jsx)(ut,{value:e.rating}),Object(Ye.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(Ye.jsx)("p",{children:e.comment})]},e._id)}))})]}),Object(Ye.jsxs)(Ke.a,{md:4,children:[Object(Ye.jsx)("h2",{className:"py-2",children:"Write a customer review"}),V&&Object(Ye.jsx)(Lt,{variant:"danger",children:V}),G?Object(Ye.jsxs)(ot.a,{onSubmit:function(e){var a,n;e.preventDefault(),T((a=t.params.id,n={rating:d,comment:O},function(){var e=Object(tt.a)(et.a.mark((function e(t,c){var r,s,i;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:w}),r=c(),s=r.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,nt.a.post("/api/vehicles/".concat(a,"/reviews"),n,i);case 6:t({type:k}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:D,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},children:[Object(Ye.jsx)(ot.a.Group,{controlId:"rating",children:Object(Ye.jsxs)(Vt.a.Item,{children:[Object(Ye.jsx)(ot.a.Label,{children:"Rating"}),Object(Ye.jsxs)(ot.a.Control,{as:"select",value:d,onChange:function(e){return b(e.target.value)},children:[Object(Ye.jsx)("option",{value:"",children:"Select..."}),Object(Ye.jsx)("option",{value:"1",children:"1"}),Object(Ye.jsx)("option",{value:"2",children:"2"}),Object(Ye.jsx)("option",{value:"3",children:"3"}),Object(Ye.jsx)("option",{value:"4",children:"4"}),Object(Ye.jsx)("option",{value:"5",children:"5"})]})]})}),Object(Ye.jsxs)(ot.a.Group,{controlId:"comment",children:[Object(Ye.jsxs)(Vt.a.Item,{children:[Object(Ye.jsx)(ot.a.Label,{children:"Comment"}),Object(Ye.jsx)(ot.a.Control,{as:"textarea",row:"3",value:O,onChange:function(e){return p(e.target.value)}})]}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)(lt.a,{type:"submit",className:"my-3",style:{width:"100%"},children:"Submit Review"})})]})]}):Object(Ye.jsxs)(Lt,{children:["Please ",Object(Ye.jsx)(Me.Link,{to:"/login",children:"sign in"})," to write a review"]})]})]})]})})},Ht=function(e){var t=e.location,a=e.history,c=Object(n.useState)(""),r=Object(st.a)(c,2),i=r[0],l=r[1],o=Object(n.useState)(""),j=Object(st.a)(o,2),d=j[0],b=j[1],u=Object(s.b)(),h=Object(s.c)((function(e){return e.userLogin})),O=h.loading,p=h.error,x=h.userInfo,m=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){x&&a.push(m)}),[a,x,m]);return Object(Ye.jsx)(He.a,{children:Object(Ye.jsx)(ze.a,{className:"justify-content-md-center",children:Object(Ye.jsxs)(Ke.a,{xs:12,sm:4,md:4,children:[Object(Ye.jsx)("h1",{children:"Sign In"}),p&&Object(Ye.jsx)(Lt,{variant:"danger",children:p}),O&&Object(Ye.jsx)(Tt,{}),Object(Ye.jsxs)(ot.a,{onSubmit:function(e){e.preventDefault(),u(function(e,t){return function(){var a=Object(tt.a)(et.a.mark((function a(n){var c,r,s;return et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:P}),c={headers:{"Content-Type":"application/json"}},a.next=5,nt.a.post("/api/users/login",{email:e,password:t},c);case 5:r=a.sent,s=r.data,n({type:R,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:U,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(i,d))},children:[Object(Ye.jsxs)(ot.a.Group,{controlId:"email",children:[Object(Ye.jsx)(ot.a.Label,{children:"Email Address"}),Object(Ye.jsx)(ot.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"password",children:[Object(Ye.jsx)(ot.a.Label,{children:"Password"}),Object(Ye.jsx)(ot.a.Control,{type:"password",placeholder:"Enter password",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(Ye.jsx)(lt.a,{type:"submit",variant:"primary",className:"my-3 mx-auto",style:{width:"100%"},children:"Sign In"})]}),Object(Ye.jsx)(ze.a,{className:"py-3",children:Object(Ye.jsxs)(Ke.a,{children:["New Customer?"," ",Object(Ye.jsx)(Me.Link,{to:m?"/register?redirect=".concat(m):"/register",children:"Register"})]})})]})})})},zt=function(e){var t=e.children;return Object(Ye.jsx)(He.a,{children:Object(Ye.jsx)(ze.a,{className:"justify-content-md-center",children:Object(Ye.jsx)(Ke.a,{xs:12,md:6,children:t})})})},Kt=a(185),Yt=a(193),Qt=a(38),$t=a(39),Jt=$t.a.section(gt||(gt=Object(Qt.a)(["\n  position: relative;\n  margin: 25px 0 15px;\n  border: 2px dotted lightgray;\n  padding: 35px 20px;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: white;\n"]))),Wt=$t.a.input(vt||(vt=Object(Qt.a)(["\n  font-size: 18px;\n  display: block;\n  width: 100%;\n  border: none;\n  text-transform: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0;\n\n  &:focus {\n    outline: none;\n  }\n"]))),Xt=$t.a.label(yt||(yt=Object(Qt.a)(["\n  top: -21px;\n  font-size: 13px;\n  color: black;\n  left: 0;\n  position: absolute;\n"]))),Zt=$t.a.p(Et||(Et=Object(Qt.a)(["\n  font-weight: bold;\n  letter-spacing: 2.2px;\n  margin-top: 0;\n  text-align: center;\n"]))),ea=$t.a.button(It||(It=Object(Qt.a)(["\n  box-sizing: border-box;\n  appearance: none;\n  background-color: transparent;\n  border: 2px solid #3498db;\n  cursor: pointer;\n  font-size: 1rem;\n  line-height: 1;\n  padding: 1.1em 2.8em;\n  text-align: center;\n  text-transform: uppercase;\n  font-weight: 700;\n  border-radius: 6px;\n  color: #3498db;\n  position: relative;\n  overflow: hidden;\n  z-index: 1;\n  transition: color 250ms ease-in-out;\n  font-family: 'Open Sans', sans-serif;\n  width: 45%;\n  display: flex;\n  align-items: center;\n  padding-right: 0;\n  justify-content: center;\n\n  &:after {\n    content: '';\n    position: absolute;\n    display: block;\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 0;\n    height: 100%;\n    background: #3498db;\n    z-index: -1;\n    transition: width 250ms ease-in-out;\n  }\n\n  i {\n    font-size: 22px;\n    margin-right: 5px;\n    border-right: 2px solid;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 20%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n\n  @media only screen and (max-width: 500px) {\n    width: 70%;\n  }\n\n  @media only screen and (max-width: 350px) {\n    width: 100%;\n  }\n\n  &:hover {\n    color: #fff;\n    outline: 0;\n    background: transparent;\n\n    &:after {\n      width: 110%;\n    }\n  }\n\n  &:focus {\n    outline: 0;\n    background: transparent;\n  }\n\n  &:disabled {\n    opacity: 0.4;\n    filter: grayscale(100%);\n    pointer-events: none;\n  }\n"]))),ta=$t.a.article(Nt||(Nt=Object(Qt.a)(["\n  margin-bottom: 35px;\n\n  span {\n    font-size: 14px;\n  }\n"]))),aa=$t.a.section(St||(St=Object(Qt.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 10px;\n\n  @media only screen and (max-width: 400px) {\n    flex-direction: column;\n  }\n"]))),na=$t.a.div(Ct||(Ct=Object(Qt.a)(["\n  display: ",";\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  padding: 10px;\n  border-radius: 6px;\n  color: white;\n  font-weight: bold;\n  background-color: rgba(5, 5, 5, 0.55);\n\n  aside {\n    margin-top: auto;\n    display: flex;\n    justify-content: space-between;\n  }\n"])),(function(e){return e.isImageFile?"none":"flex"})),ca=$t.a.i(wt||(wt=Object(Qt.a)(["\n  cursor: pointer;\n\n  &:hover {\n    transform: scale(1.3);\n  }\n"]))),ra=$t.a.section(kt||(kt=Object(Qt.a)(["\n  padding: 0.25rem;\n  width: 20%;\n  height: 120px;\n  border-radius: 6px;\n  box-sizing: border-box;\n\n  &:hover {\n    opacity: 0.55;\n\n    "," {\n      display: flex;\n    }\n  }\n\n  & > div:first-of-type {\n    height: 100%;\n    position: relative;\n  }\n\n  @media only screen and (max-width: 750px) {\n    width: 25%;\n  }\n\n  @media only screen and (max-width: 500px) {\n    width: 50%;\n  }\n\n  @media only screen and (max-width: 400px) {\n    width: 100%;\n    padding: 0 0 0.4em;\n  }\n"])),na),sa=$t.a.img(Dt||(Dt=Object(Qt.a)(["\n  border-radius: 6px;\n  width: 100%;\n  height: 100%;\n"]))),ia=["label","updateFilesCb","maxFileSizeInBytes"],la=function(e){var t=e.label,a=e.updateFilesCb,c=e.maxFileSizeInBytes,r=void 0===c?5e5:c,s=Object(Yt.a)(e,ia),i=Object(n.useRef)(null),l=Object(n.useState)({}),o=Object(st.a)(l,2),d=o[0],b=o[1],u=function(e){var t,n=(t=e,Object.keys(t).map((function(e){return t[e]})));a(n)};return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)(Jt,{children:[Object(Ye.jsx)(Xt,{children:t}),Object(Ye.jsx)(Zt,{children:"Drag and drop your files anywhere or"}),Object(Ye.jsxs)(ea,{type:"button",onClick:function(){i.current.click()},children:[Object(Ye.jsx)("i",{className:"fas fa-file-upload"}),Object(Ye.jsxs)("span",{children:[" Upload ",s.multiple?"files":"a file"]})]}),Object(Ye.jsx)(Wt,Object(j.a)({type:"file",ref:i,onChange:function(e){var t=e.target.files;if(t.length){var a=function(e){var t,a=Object(Kt.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.size<=r){if(!s.multiple)return{file:n};d[n.name]=n}}}catch(c){a.e(c)}finally{a.f()}return Object(j.a)({},d)}(t);b(a),u(a)}},title:"",value:""},s))]}),Object(Ye.jsxs)(ta,{children:[Object(Ye.jsx)("span",{children:"To Upload"}),Object(Ye.jsx)(aa,{children:Object.keys(d).map((function(e,t){var a,n=d[e],c="image"===n.type.split("/")[0];return Object(Ye.jsx)(ra,{children:Object(Ye.jsxs)("div",{children:[c&&Object(Ye.jsx)(sa,{src:URL.createObjectURL(n),alt:"file preview ".concat(t)}),Object(Ye.jsxs)(na,{isImageFile:c,children:[Object(Ye.jsx)("span",{children:n.name}),Object(Ye.jsxs)("aside",{children:[Object(Ye.jsxs)("span",{children:[(a=n.size,Math.round(a/1e3))," kb"]}),Object(Ye.jsx)(ca,{className:"fas fa-trash-alt",onClick:function(){return function(e){delete d[e],b(Object(j.a)({},d)),u(Object(j.a)({},d))}(e)}})]})]})]})},e)}))})]})]})},oa=function(e){var t=e.location,a=e.history,c=Object(n.useState)(new Date),r=Object(st.a)(c,2),i=r[0],l=r[1],o=Object(n.useState)(""),d=Object(st.a)(o,2),b=d[0],u=d[1],h=Object(n.useState)(""),O=Object(st.a)(h,2),p=O[0],x=O[1],m=Object(n.useState)(""),f=Object(st.a)(m,2),g=f[0],v=f[1],y=Object(n.useState)(""),E=Object(st.a)(y,2),I=E[0],N=E[1],S=Object(n.useState)(""),C=Object(st.a)(S,2),w=C[0],k=C[1],D=Object(n.useState)(""),L=Object(st.a)(D,2),_=L[0],T=L[1],A=Object(n.useState)(""),P=Object(st.a)(A,2),U=P[0],G=P[1],M=Object(n.useState)(""),q=Object(st.a)(M,2),H=q[0],z=q[1],K=Object(n.useState)(""),Y=Object(st.a)(K,2),Q=Y[0],$=Y[1],J=Object(n.useState)(null),W=Object(st.a)(J,2),X=W[0],Z=W[1],ee=Object(n.useState)({documents:[],documentsUrl:[]}),te=Object(st.a)(ee,2),ae=te[0],ne=te[1],ce=Object(s.b)(),re=Object(s.c)((function(e){return e.userLogin})),se=Object(s.c)((function(e){return e.userRegister})),ie=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){re.userInfo&&a.push(ie)}),[a,re.userInfo,ie]);return Object(Ye.jsxs)(zt,{children:[Object(Ye.jsx)("h1",{children:"Sign Up"}),X&&Object(Ye.jsx)(Lt,{variant:"danger",children:X}),se.error&&Object(Ye.jsx)(Lt,{variant:"danger",children:se.error}),se.loading&&Object(Ye.jsx)(Tt,{}),Object(Ye.jsxs)(ot.a,{onSubmit:function(e){e.preventDefault();var t=new Date,a=new Date(i),n=t.getFullYear()-a.getFullYear(),c=t.getMonth()-a.getMonth();if((c<0||0===c&&t.getDate()<a.getDate())&&n--,n<18)Z("Youre below 18, you must be above 18 to register.");else if(H!==Q)Z("Passwords do not match");else if(0==ae.documents)Z("Upload documents to register");else{var r=[];ae.documents.map((function(e){var t=new FormData;t.append("file",e),t.append("upload_preset","o3aaulge"),t.append("folder","".concat(g,"/")),t.append("api_key","827283169955268"),nt.a.post("https://api.cloudinary.com/v1_1/dn0cobibi/image/upload",t).then((function(e){var t=e.data;r.push(t.secure_url)}))})),ne(Object(j.a)(Object(j.a)({},ae),{},{documentsUrl:r})),ce(function(e,t,a,n,c,r,s,i,l,o){return function(){var j=Object(tt.a)(et.a.mark((function j(d){var b,u,h;return et.a.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,d({type:B}),b={headers:{"Content-Type":"application/json"}},j.next=5,nt.a.post("/api/users",{firstName:e,lastName:t,contactNumber:a,address:n,NIC:c,licenseNumber:r,email:s,password:i,birthday:l,documents:o.documentsUrl},b);case 5:u=j.sent,h=u.data,d({type:F,payload:h}),d({type:R,payload:h}),localStorage.setItem("userInfo",JSON.stringify(h)),j.next=15;break;case 12:j.prev=12,j.t0=j.catch(0),d({type:V,payload:j.t0.response&&j.t0.response.data.message?j.t0.response.data.message:j.t0.message});case 15:case"end":return j.stop()}}),j,null,[[0,12]])})));return function(e){return j.apply(this,arguments)}}()}(b,p,U,I,w,_,g,H,a,ae))}},children:[Object(Ye.jsx)(ot.a.Group,{controlId:"name",children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)(ot.a.Label,{children:"First Name"}),Object(Ye.jsx)(ot.a.Control,{type:"name",required:!0,placeholder:"First name",value:b,onChange:function(e){return u(e.target.value)}})]}),Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)(ot.a.Label,{children:"Last Name"}),Object(Ye.jsx)(ot.a.Control,{type:"name",required:!0,placeholder:"Last name",value:p,onChange:function(e){return x(e.target.value)}})]})]})}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"email",children:[Object(Ye.jsx)(ot.a.Label,{children:"Email Address"}),Object(Ye.jsx)(ot.a.Control,{type:"email",required:!0,placeholder:"Enter email",value:g,onChange:function(e){return v(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"contactNo",children:[Object(Ye.jsx)(ot.a.Label,{children:"Contact Number"}),Object(Ye.jsx)(ot.a.Control,{type:"tel",required:!0,placeholder:"Enter contact number",value:U,onChange:function(e){return G(e.target.value)}})]})})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"address",children:[Object(Ye.jsx)(ot.a.Label,{children:"Address"}),Object(Ye.jsx)(ot.a.Control,{type:"address",required:!0,placeholder:"Enter address",value:I,onChange:function(e){return N(e.target.value)}})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"NIC",children:[Object(Ye.jsx)(ot.a.Label,{children:"NIC"}),Object(Ye.jsx)(ot.a.Control,{type:"name",required:!0,placeholder:"NIC",value:w,onChange:function(e){return k(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"lincenseNumber",children:[Object(Ye.jsx)(ot.a.Label,{children:"License Number"}),Object(Ye.jsx)(ot.a.Control,{type:"name",required:!0,placeholder:"License Number",value:_,onChange:function(e){return T(e.target.value)}})]})})]}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"birthday",children:[Object(Ye.jsx)(ot.a.Label,{children:"Date of birth "}),Object(Ye.jsx)(Ut.Calendar,{maxDate:new Date,color:"#2fb380",className:"form-control",onChange:function(e){return l(e)},date:i,months:2,direction:"horizontal"})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsx)(la,{accept:".jpg,.png,.jpeg,.pdf",label:"Documents",multiple:!0,updateFilesCb:function(e){ne(Object(j.a)(Object(j.a)({},ae),{},{documents:e}))}})}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"password",children:[Object(Ye.jsx)(ot.a.Label,{children:"Password"}),Object(Ye.jsx)(ot.a.Control,{type:"password",required:!0,placeholder:"Enter password",value:H,onChange:function(e){return z(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"confirmPassword",children:[Object(Ye.jsx)(ot.a.Label,{children:"Confirm Password"}),Object(Ye.jsx)(ot.a.Control,{type:"password",required:!0,placeholder:"Confirm password",value:Q,onChange:function(e){return $(e.target.value)}})]})})]}),Object(Ye.jsx)(lt.a,{type:"submit",variant:"primary",className:"my-3 mx-auto",style:{width:"100%"},children:"Register"})]}),Object(Ye.jsx)(ze.a,{className:"py-3",children:Object(Ye.jsxs)(Ke.a,{children:["Have an account?"," ",Object(Ye.jsx)(Me.Link,{to:ie?"/login?redirect=".concat(ie):"/login",children:"Login"})]})})]})},ja=a(59),da=function(e){e.location;var t=e.history,a=Object(n.useState)(""),c=Object(st.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)(""),o=Object(st.a)(l,2),d=o[0],b=o[1],u=Object(n.useState)(""),h=Object(st.a)(u,2),O=h[0],p=h[1],x=Object(n.useState)(""),m=Object(st.a)(x,2),f=m[0],g=m[1],v=Object(n.useState)(""),y=Object(st.a)(v,2),E=y[0],I=y[1],N=Object(n.useState)(""),S=Object(st.a)(N,2),C=S[0],w=S[1],k=Object(n.useState)(null),D=Object(st.a)(k,2),L=D[0],_=D[1],T=Object(s.b)(),A=Object(s.c)((function(e){return e.userDetails})),P=A.loading,R=A.error,U=A.user,G=Object(s.c)((function(e){return e.userLogin})).userInfo,B=Object(s.c)((function(e){return e.userUpdateProfile})),F=B.success,V=B.error,M=B.loading,q=Object(s.c)((function(e){return e.bookingListMy})),H=q.loading,z=q.error,J=q.bookings;Object(n.useEffect)((function(){G?(T(function(){var e=Object(tt.a)(et.a.mark((function e(t,a){var n,c,r,s,i;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ie}),n=a(),c=n.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,nt.a.get("/api/bookings/mybookings",r);case 6:s=e.sent,i=s.data,t({type:Ne,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Se,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()),U&&U.firstName&&!F?(i(U.firstName),b(U.lastName),p(U.contactNumber),g(U.email)):(T({type:$}),T(ct("profile")))):t.push("/login")}),[t,G,U,T,F]);return Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{md:3,children:[Object(Ye.jsx)("h2",{children:"User Profile"}),L&&Object(Ye.jsx)(Lt,{variant:"danger",children:L}),R||V&&Object(Ye.jsx)(Lt,{variant:"danger",children:R||V}),F&&Object(Ye.jsx)(Lt,{variant:"success",children:"Profile Updated"}),P&&M&&Object(Ye.jsx)(Tt,{}),Object(Ye.jsxs)(ot.a,{onSubmit:function(e){e.preventDefault(),E!==C?_("Passwords do not match"):T(function(e){return function(){var t=Object(tt.a)(et.a.mark((function t(a,n){var c,r,s,i,l;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:K}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,nt.a.put("/api/users/profile",e,s);case 6:i=t.sent,l=i.data,a({type:Y,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Q,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:U.id,firstName:r,lastName:d,contactNumber:O,email:f,password:E}))},children:[Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"firstname",children:[Object(Ye.jsx)(ot.a.Label,{children:"First Name"}),Object(Ye.jsx)(ot.a.Control,{type:"name",placeholder:"Enter first name",value:r,onChange:function(e){return i(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"lastname",children:[Object(Ye.jsx)(ot.a.Label,{children:"Last Name"}),Object(Ye.jsx)(ot.a.Control,{type:"name",placeholder:"Enter last name",value:d,onChange:function(e){return b(e.target.value)}})]})})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"contact",children:[Object(Ye.jsx)(ot.a.Label,{children:"Contact Number"}),Object(Ye.jsx)(ot.a.Control,{type:"tel",placeholder:"Enter contact number",value:O,onChange:function(e){return p(e.target.value)}})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"email",children:[Object(Ye.jsx)(ot.a.Label,{children:"Email Address"}),Object(Ye.jsx)(ot.a.Control,{type:"email",placeholder:"Enter email",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"password",children:[Object(Ye.jsx)(ot.a.Label,{children:"Password"}),Object(Ye.jsx)(ot.a.Control,{type:"password",placeholder:"Enter password",value:E,onChange:function(e){return I(e.target.value)}})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"confirmPassword",children:[Object(Ye.jsx)(ot.a.Label,{children:"Confirm Password"}),Object(Ye.jsx)(ot.a.Control,{type:"password",placeholder:"Confirm password",value:C,onChange:function(e){return w(e.target.value)}})]}),Object(Ye.jsx)(lt.a,{type:"submit",variant:"primary",className:"my-3 mx-auto",style:{width:"100%"},children:"Update"})]})]}),Object(Ye.jsxs)(Ke.a,{md:9,children:[Object(Ye.jsx)("h2",{children:"Booking History"}),H?Object(Ye.jsx)(Tt,{}):z?Object(Ye.jsx)(Lt,{variant:"danger",children:z}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(ja.c,{striped:!0,bordered:!0,small:!0,data:Object(j.a)(Object(j.a)({},{columns:[{label:"VEHICLE LICENSE",field:"lisence",sort:"ace",width:150},{label:"DATE",field:"date",sort:"ace",width:150},{label:"TOTAL",field:"total",sort:"ace",width:150},{label:"PAID",field:"paid",sort:"ace",width:150},{label:"VERIFIED",field:"verified",sort:"ace",width:150},{label:"ACTION",field:"action",sort:"ace",width:150}],rows:[]}),{},{rows:Object(At.a)(J.map((function(e){return{lisence:e.vehicle.licensePlateNumber,date:e.createdAt.substring(0,10),total:"$".concat(e.totalPrice),paid:e.isPaid?e.paidAt.substring(0,10):Object(Ye.jsx)("i",{className:"fas fa-times",style:{color:"red"}}),verified:e.isVerified?e.verifiedAt.substring(0,10):Object(Ye.jsx)("i",{className:"fas fa-times",style:{color:"red"}}),action:Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsx)(Xe.LinkContainer,{to:"/booking/".concat(e._id),children:Object(Ye.jsx)(lt.a,{className:"btn-sm",variant:"light",children:"Details"})})})}})))})}),0==J&&Object(Ye.jsx)(Lt,{children:"Bookings are not available "})]})]})]})},ba=function(e){var t=e.step1,a=e.step2,n=e.step3,c=e.step4,r=e.step5;return Object(Ye.jsx)(ze.a,{className:"justify-content-center",children:Object(Ye.jsx)(Ke.a,{md:10,children:Object(Ye.jsxs)("ul",{className:"stepper stepper-horizontal",children:[t?Object(Ye.jsx)("li",{className:"completed",children:Object(Ye.jsxs)(Me.Link,{to:"/login",children:[Object(Ye.jsx)("span",{className:"circle",children:"1"}),Object(Ye.jsx)("span",{className:"label",children:"Sign In"})]})}):Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(Me.Link,{to:"#",children:[Object(Ye.jsx)("span",{className:"circle",children:"1"}),Object(Ye.jsx)("span",{className:"label",children:"Sign In"})]})}),a?Object(Ye.jsx)("li",{className:"completed",children:Object(Ye.jsxs)(Me.Link,{to:"/equipments",children:[Object(Ye.jsx)("span",{className:"circle",children:"2"}),Object(Ye.jsx)("span",{className:"label",children:"Equipments"})]})}):Object(Ye.jsx)("li",{className:"noMousePointer",children:Object(Ye.jsxs)(Me.Link,{children:[Object(Ye.jsx)("span",{className:"circle",children:"2"}),Object(Ye.jsx)("span",{className:"label",children:"Equipments"})]})}),n?Object(Ye.jsx)("li",{className:"completed",children:Object(Ye.jsxs)(Me.Link,{to:"/driverDetails",children:[Object(Ye.jsx)("span",{className:"circle",children:"3"}),Object(Ye.jsx)("span",{className:"label",children:"Booking"})]})}):Object(Ye.jsx)("li",{className:"noMousePointer",children:Object(Ye.jsxs)(Me.Link,{children:[Object(Ye.jsx)("span",{className:"circle",children:"3"}),Object(Ye.jsx)("span",{className:"label",children:"Booking"})]})}),c?Object(Ye.jsx)("li",{className:"completed",children:Object(Ye.jsxs)(Me.Link,{to:"/payment",children:[Object(Ye.jsx)("span",{className:"circle",children:"4"}),Object(Ye.jsx)("span",{className:"label",children:"Payment"})]})}):Object(Ye.jsx)("li",{className:"noMousePointer",children:Object(Ye.jsxs)(Me.Link,{children:[Object(Ye.jsx)("span",{className:"circle",children:"4"}),Object(Ye.jsx)("span",{className:"label",children:"Payment"})]})}),r?Object(Ye.jsx)("li",{className:"completed",children:Object(Ye.jsxs)(Me.Link,{to:"/confirmBooking",children:[Object(Ye.jsx)("span",{className:"circle",children:"5"}),Object(Ye.jsx)("span",{className:"label",children:"Confirm Booking"})]})}):Object(Ye.jsx)("li",{className:"noMousePointer",children:Object(Ye.jsxs)(Me.Link,{children:[Object(Ye.jsx)("span",{className:"circle",children:"5"}),Object(Ye.jsx)("span",{className:"label",children:"Confirm Bookin"})]})})]})})})},ua=function(e){var t=e.history;Object(s.c)((function(e){return e.bookingDetails})).driverDetails||t.push("/booking");var a=Object(n.useState)("PayPal"),c=Object(st.a)(a,2),r=c[0],i=c[1],l=Object(s.b)();return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(ba,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(Ye.jsxs)(zt,{children:[Object(Ye.jsx)("h1",{children:"Payment Method"}),Object(Ye.jsxs)(ot.a,{onSubmit:function(e){var a;e.preventDefault(),l((a=r,function(e){e({type:le,payload:a}),localStorage.setItem("paymentMethod",JSON.stringify(a))})),t.push("/confirmBooking")},children:[Object(Ye.jsxs)(ot.a.Group,{children:[Object(Ye.jsx)(ot.a.Label,{as:"legend",children:"Select Method"}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsx)(ot.a.Check,{type:"radio",label:"PayPal or Credit card",id:"PayPal",name:"paymentMethod",value:"value",checked:!0,onChange:function(e){return i(e.target.value)}})})]}),Object(Ye.jsx)(lt.a,{type:"submit",varient:"primery",className:"my-3",children:"Continue"})]})]})]})},ha=function(e){var t=e.history,a=Object(s.c)((function(e){return e.userLogin})).userInfo,c=Object(s.b)(),r=Object(s.c)((function(e){return e.bookingDetails})),i=new Date(r.bookingDetails.startDate),l=new Date(r.bookingDetails.endDate),o=function(e){return(Math.round(100*e)/100).toFixed(2)},j=r.equipments?r.equipments.reduce((function(e,t){return e+t.price}),0):j=0,d=o(Number((.15*(r.bookingDetails.totalCost+j)).toFixed(2))),b=(Number(r.bookingDetails.totalCost)+Number(d)+Number(j)).toFixed(2),u=Object(s.c)((function(e){return e.bookingCreate})),h=u.booking,O=u.success,p=u.error;Object(n.useEffect)((function(){a?O&&(t.push("/booking/".concat(h._id)),c({type:Ae})):t.push("/login")}),[t,O,a]);return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(ba,{step1:!0,step2:!0,step3:!0,step4:!0,step5:!0}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{md:8,children:Object(Ye.jsxs)(Vt.a,{variant:"flush",children:[Object(Ye.jsx)(Vt.a.Item,{children:null===r.vehicleDetails?Object(Ye.jsx)(Lt,{children:"Your have not selected a vehicle"}):Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{md:6,children:Object(Ye.jsx)(Ft.a,{src:r.vehicleDetails.image,alt:r.vehicleDetails.image,fluid:!0,rounded:!0})}),Object(Ye.jsxs)(Ke.a,{md:6,children:[Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)("h2",{className:"mb-0",children:r.vehicleDetails.name}),Object(Ye.jsx)("h6",{children:r.vehicleDetails.licensePlateNumber}),Object(Ye.jsx)("p",{children:r.vehicleDetails.type})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"far fa-user me-1"}),r.vehicleDetails.seats," Seats"]}),Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"fas fa-cogs me-1"}),r.vehicleDetails.transmission]})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"fas fa-gas-pump me-1"}),r.vehicleDetails.fuel]}),Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"fas fa-bolt me-1"}),r.vehicleDetails.horsepower," HP"]})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[r.vehicleDetails.engine," L"]}),Object(Ye.jsxs)(Ke.a,{children:[r.vehicleDetails.miles_per_gallon," mpg"]})]}),Object(Ye.jsx)(ze.a,{children:Object(Ye.jsxs)(Ke.a,{children:[r.vehicleDetails.cylinders," cylinders"]})})]})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("h2",{children:"Driver Details"}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Name : "}),r.driverDetails.driverFirstName," ",r.driverDetails.driverLastName]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Email : "}),r.driverDetails.driverEmail]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Contact Number : "}),r.driverDetails.driverContactNumber]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Address : "}),r.driverDetails.driverAddress]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"NIC : "}),r.driverDetails.driverNIC]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Driving License : "}),r.driverDetails.driverLicenseNumber]})]}),r.equipments&&Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(Vt.a,{children:[Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)("b",{children:"Equipments"})}),r.equipments.map((function(e){return Object(Ye.jsx)(Vt.a.Item,{className:"py-2",children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:e.name}),Object(Ye.jsxs)(Ke.a,{children:["$",e.price]})]})})}))]})})]})}),Object(Ye.jsxs)(Vt.a.Item,{children:[Object(Ye.jsx)("h2",{children:"Payment Method"}),Object(Ye.jsx)("strong",{children:"Method: "}),r.paymentMethod]})]})}),Object(Ye.jsx)(Ke.a,{md:4,children:Object(Ye.jsx)(dt.a,{children:Object(Ye.jsxs)(Vt.a,{variant:"flush",children:[Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)("h2",{children:"Booking Summery"})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(Ye.jsx)(Ke.a,{children:"Start Day"}),Object(Ye.jsx)(Ke.a,{children:i.toString().substring(0,15)})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(Ye.jsx)(Ke.a,{children:"End Day"}),Object(Ye.jsx)(Ke.a,{children:l.toString().substring(0,15)})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Price Per day"}),Object(Ye.jsxs)(Ke.a,{children:["$",o(r.vehicleDetails.pricePerDay)]})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"No. of Days"}),Object(Ye.jsx)(Ke.a,{children:r.bookingDetails.numberOfDays})]})}),r.equipments&&Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Equipments price"}),Object(Ye.jsxs)(Ke.a,{children:["$",j]})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Total Price before Tax"}),Object(Ye.jsxs)(Ke.a,{children:["$",o(r.bookingDetails.totalCost+j)]})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Tax"}),Object(Ye.jsxs)(Ke.a,{children:["$",d," ",Object(Ye.jsx)("strong",{children:" (15%)"})]})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Total Price after Tax"}),Object(Ye.jsxs)(Ke.a,{children:["$",b]})]})}),p&&Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)(Lt,{variant:"danger",children:p})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)(lt.a,{style:{width:"100%"},type:"button",className:"btn-block",variant:"success",onClick:function(){c(function(e){return function(){var t=Object(tt.a)(et.a.mark((function t(a,n){var c,r,s,i,l;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:be}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,nt.a.post("/api/bookings",e,s);case 6:i=t.sent,l=i.data,a({type:ue,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:he,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({vehicleDetails:r.vehicleDetails,driverDetails:r.driverDetails,paymentMethod:r.paymentMethod,totalPrice:b,tax:d,startDate:i,endDate:l,numberOfDays:r.bookingDetails.numberOfDays,equipments:r.equipments&&r.equipments}))},children:"Place Order"})})]})})})]})]})},Oa=function(e){var t=e.history,a=Object(s.c)((function(e){return e.userLogin})).userInfo,c=Object(n.useState)(a.firstName),r=Object(st.a)(c,2),i=r[0],l=r[1],o=Object(n.useState)(a.lastName),j=Object(st.a)(o,2),d=j[0],b=j[1],u=Object(n.useState)(a.email),h=Object(st.a)(u,2),O=h[0],p=h[1],x=Object(n.useState)(a.contactNumber),m=Object(st.a)(x,2),f=m[0],g=m[1],v=Object(n.useState)(a.address),y=Object(st.a)(v,2),E=y[0],I=y[1],N=Object(n.useState)(a.licenseNumber),S=Object(st.a)(N,2),C=S[0],w=S[1],k=Object(n.useState)(a.NIC),D=Object(st.a)(k,2),L=D[0],_=D[1];Object(n.useEffect)((function(){a||t.push("/login")}),[a,t]);var T=Object(s.b)();return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(ba,{step1:!0,step2:!0,step3:!0}),Object(Ye.jsxs)(zt,{children:[Object(Ye.jsx)("h1",{children:"Driver Details"}),Object(Ye.jsx)(lt.a,{className:"my-3",onClick:function(){l(""),b(""),p(""),g(""),I(""),w(""),_("")},type:"submit",varient:"primary",children:"Add a new driver"}),Object(Ye.jsxs)(ot.a,{onSubmit:function(e){var a;e.preventDefault(),T((a={driverFirstName:i,driverLastName:d,driverEmail:O,driverContactNumber:f,driverAddress:E,driverLicenseNumber:C,driverNIC:L},function(e){e({type:ie,payload:a}),localStorage.setItem("driverDetails",JSON.stringify(a))})),t.push("/payment")},children:[Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"driverName",children:[Object(Ye.jsx)(ot.a.Label,{children:"Driver first name"}),Object(Ye.jsx)(ot.a.Control,{type:"text",required:!0,placeholder:"Enter driver first name",value:i,onChange:function(e){return l(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"driverName",children:[Object(Ye.jsx)(ot.a.Label,{children:"Driver last Name"}),Object(Ye.jsx)(ot.a.Control,{type:"text",required:!0,placeholder:"Enter driver last name",value:d,onChange:function(e){return b(e.target.value)}})]})})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"driverEmail",children:[Object(Ye.jsx)(ot.a.Label,{children:"Driver email"}),Object(Ye.jsx)(ot.a.Control,{type:"email",required:!0,placeholder:"Enter driver email",value:O,onChange:function(e){return p(e.target.value)}})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"driverAddress",children:[Object(Ye.jsx)(ot.a.Label,{children:"Driver Address"}),Object(Ye.jsx)(ot.a.Control,{type:"text",required:!0,placeholder:"Enter driver addressr",value:E,onChange:function(e){return I(e.target.value)}})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"driverContactNumber",children:[Object(Ye.jsx)(ot.a.Label,{children:"Driver Contact Number"}),Object(Ye.jsx)(ot.a.Control,{type:"tel",required:!0,placeholder:"Enter driver contact number",value:f,onChange:function(e){return g(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"driverLicenseNumber",children:[Object(Ye.jsx)(ot.a.Label,{children:"Driver License Number"}),Object(Ye.jsx)(ot.a.Control,{type:"text",required:!0,placeholder:"Enter driver license number",value:C,onChange:function(e){return w(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"driverNIC",children:[Object(Ye.jsx)(ot.a.Label,{children:"Driver NIC"}),Object(Ye.jsx)(ot.a.Control,{type:"text",required:!0,placeholder:"Enter driver NIC number",value:L,onChange:function(e){return _(e.target.value)}})]})})]}),Object(Ye.jsx)(lt.a,{className:"my-3 mx-auto",style:{width:"100%"},type:"submit",varient:"primery",children:"Continue"})]})]})]})},pa=a(191),xa=function(e){var t=e.match,a=e.history,c=Object(s.b)(),r=Object(s.c)((function(e){return e.userLogin})).userInfo,i=t.params.id,l=Object(n.useState)(!1),o=Object(st.a)(l,2),j=o[0],d=o[1],b=Object(s.c)((function(e){return e.bookingDetailsById})),u=b.booking,h=b.loading,O=b.error,p=Object(s.c)((function(e){return e.bookingPay})),x=p.success,m=p.loading,f=Object(s.c)((function(e){return e.bookingVerify})),g=f.success,v=f.loading;Object(n.useEffect)((function(){r||a.push("/login");var e,t=function(){var e=Object(tt.a)(et.a.mark((function e(){var t,a,n;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("/api/congif/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){d(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!u||x||g||u._id!==i?(c({type:Ee}),c({type:Ae}),c({type:Oe}),c((e=i,function(){var t=Object(tt.a)(et.a.mark((function t(a,n){var c,r,s,i,l;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:pe}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,nt.a.get("/api/bookings/".concat(e),s);case 6:i=t.sent,l=i.data,a({type:xe,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:me,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))):u.isPaid||(window.paypal?d(!0):t())}),[a,r,c,i,x,g,u]);return h?Object(Ye.jsx)(Tt,{}):O?Object(Ye.jsx)(Lt,{variant:"danger",children:O}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)("h1",{children:["Booking ID ",u._id.substring(5,10)]}),u.isVerified?Object(Ye.jsxs)(Lt,{variant:"success",children:["Booking verified ",u.verifiedAt.substring(0,10)]}):Object(Ye.jsx)(Lt,{variant:"danger",children:"Booking not verified"}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{md:8,children:Object(Ye.jsxs)(Vt.a,{variant:"flush",children:[Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{md:6,children:Object(Ye.jsx)(Ft.a,{src:u.vehicle.image,alt:u.vehicle.image,fluid:!0,rounded:!0})}),Object(Ye.jsxs)(Ke.a,{md:6,children:[Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)("h2",{className:"mb-0",children:[u.vehicle.name," "]}),Object(Ye.jsx)("h6",{children:u.vehicle.licensePlateNumber}),Object(Ye.jsxs)("p",{className:"mt-0",children:[" ",u.vehicle.type]}),Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"far fa-user me-1"}),u.vehicle.seats," Seats"]}),Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"fas fa-cogs me-1"}),u.vehicle.transmission]})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"fas fa-gas-pump me-1"}),u.vehicle.fuel]}),Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("i",{className:"fas fa-bolt me-1"}),u.vehicle.horsepower," HP"]})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[u.vehicle.engine," L"]}),Object(Ye.jsxs)(Ke.a,{children:[u.vehicle.miles_per_gallon," mpg"]})]}),Object(Ye.jsx)(ze.a,{children:Object(Ye.jsxs)(Ke.a,{children:[u.vehicle.cylinders," cylinders"]})})]})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsxs)(Ke.a,{children:[Object(Ye.jsx)("h2",{children:"Driver Details"}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Name : "}),u.driverDetails.driverFirstName," ",u.driverDetails.driverLastName]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Email : "}),u.driverDetails.driverEmail]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Contact Number : "}),u.driverDetails.driverContactNumber]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Address : "}),u.driverDetails.driverAddress]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"NIC : "}),u.driverDetails.driverNIC]}),Object(Ye.jsxs)("p",{className:"my-0",children:[Object(Ye.jsx)("strong",{children:"Driving License : "}),u.driverDetails.driverLicenseNumber]})]}),u.equipments&&Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(Vt.a,{children:[Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)("b",{children:"Equipments"})}),u.equipments.map((function(e){return Object(Ye.jsx)(Vt.a.Item,{className:"py-2",children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:e.name}),Object(Ye.jsxs)(Ke.a,{children:["$",e.price]})]})})}))]})})]})}),Object(Ye.jsxs)(Vt.a.Item,{children:[Object(Ye.jsx)("h2",{children:"Payment Method"}),Object(Ye.jsxs)("p",{children:[Object(Ye.jsx)("strong",{children:"Method: "}),u.paymentMethod]}),u.isPaid?Object(Ye.jsxs)(Lt,{variant:"success",children:["Paid on ",u.paidAt.substring(0,10)]}):Object(Ye.jsx)(Lt,{variant:"danger",children:"Not Paid"})]})]})}),Object(Ye.jsx)(Ke.a,{md:4,children:Object(Ye.jsx)(dt.a,{children:Object(Ye.jsxs)(Vt.a,{variant:"flush",children:[Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)("h2",{children:"Booking Summery"})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(Ye.jsx)(Ke.a,{children:"Start Day"}),Object(Ye.jsx)(Ke.a,{children:new Date(u.startDate).toString().substring(0,15)})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(Ye.jsx)(Ke.a,{children:"End Day"}),Object(Ye.jsx)(Ke.a,{children:new Date(u.endDate).toString().substring(0,15)})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Price Per day"}),Object(Ye.jsxs)(Ke.a,{children:["$",u.vehicle.pricePerDay]})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"No. of Days"}),Object(Ye.jsx)(Ke.a,{children:u.numberOfDays})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Tax"}),Object(Ye.jsxs)(Ke.a,{children:["$",u.tax," ",Object(Ye.jsx)("strong",{children:" (15%)"})]})]})}),Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:"Total Price after Tax"}),Object(Ye.jsxs)(Ke.a,{children:["$",u.totalPrice]})]})}),!u.isPaid&&!r.isAdmin&&Object(Ye.jsxs)(Vt.a.Item,{children:[m&&Object(Ye.jsx)(Tt,{}),j?Object(Ye.jsx)(pa.PayPalButton,{amount:u.totalPrice,onSuccess:function(e){console.log(e),c(function(e,t){return function(){var a=Object(tt.a)(et.a.mark((function a(n,c){var r,s,i,l,o;return et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:ge}),r=c(),s=r.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},a.next=6,nt.a.put("/api/bookings/".concat(e,"/pay"),t,i);case 6:l=a.sent,o=l.data,n({type:ve,payload:o}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:ye,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(i,e))}}):Object(Ye.jsx)(Tt,{})]}),v&&Object(Ye.jsx)(Tt,{}),r&&r.isAdmin&&u.isPaid&&!u.isVerified&&Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)(lt.a,{type:"button",className:"btn btn-block",onClick:function(){c(function(e){return function(){var t=Object(tt.a)(et.a.mark((function t(a,n){var c,r,s,i,l;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Le}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,nt.a.put("/api/bookings/".concat(e._id,"/verify"),{},s);case 6:i=t.sent,l=i.data,a({type:_e,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Te,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(u))},children:"Mark As Verified"})})]})})})]})]})},ma=function(e){var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.userList})),r=c.loading,i=c.error,l=c.users,o=Object(s.c)((function(e){return e.userLogin})).userInfo,d=Object(s.c)((function(e){return e.userDelete})).success;Object(n.useEffect)((function(){o&&o.isAdmin?a(function(){var e=Object(tt.a)(et.a.mark((function e(t,a){var n,c,r,s,i;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:J}),n=a(),c=n.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,nt.a.get("/api/users/",r);case 6:s=e.sent,i=s.data,t({type:W,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:X,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,d,o]);var b=function(e){window.confirm("Are you sure?")&&a(function(e){return function(){var t=Object(tt.a)(et.a.mark((function t(a,n){var c,r,s;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ee}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,nt.a.delete("/api/users/".concat(e),s);case 6:a({type:te}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:ae,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("h1",{children:"Users"}),r?Object(Ye.jsx)(Tt,{}):i?Object(Ye.jsx)(Lt,{variant:"danger",children:i}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(ja.c,{striped:!0,bordered:!0,small:!0,data:Object(j.a)(Object(j.a)({},{columns:[{label:"ID",field:"id",sort:"ace",width:150},{label:"NAME",field:"name",sort:"ace",width:150},{label:"NIC",field:"nic",sort:"ace",width:150},{label:"EMAIL",field:"email",sort:"ace",width:150},{label:"VERIFIED",field:"verified",sort:"ace",width:150},{label:"BLACLISTED",field:"blacklisted",sort:"ace",width:150},{label:"ADMIN",field:"admin",sort:"ace",width:150},{label:"ACTION",field:"action",sort:"ace",width:150}],rows:[]}),{},{rows:Object(At.a)(l.map((function(e){return{id:e._id.substring(19,24),name:"".concat(e.firstName," ").concat(e.lastName),email:e.email,nic:e.NIC,verified:e.isVerified?"Verified \u2705":"Not verified \u274c",blacklisted:e.isBlacklisted?"Blacklisted \u2705":"Not blacklisted \u274c",admin:e.isAdmin?"Admin":"User",action:Object(Ye.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(Ye.jsx)(Xe.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(Ye.jsx)(lt.a,{variant:"light",className:"btn-sm",children:Object(Ye.jsx)("i",{className:"fas fa-edit"})})}),Object(Ye.jsx)(lt.a,{variant:"danger",className:"btn-sm",onClick:function(){return b(e._id)},children:Object(Ye.jsx)("i",{className:"fas fa-trash"})})]})}})))})}),0==l&&Object(Ye.jsx)(Lt,{children:"Users are not available "})]})]})},fa=function(e){var t=e.match,a=e.history,c=t.params.id,r=Object(n.useState)(""),i=Object(st.a)(r,2),l=i[0],o=i[1],j=Object(n.useState)(""),d=Object(st.a)(j,2),b=d[0],u=d[1],h=Object(n.useState)(""),O=Object(st.a)(h,2),p=O[0],x=O[1],m=Object(n.useState)(""),f=Object(st.a)(m,2),g=f[0],v=f[1],y=Object(n.useState)(""),E=Object(st.a)(y,2),I=E[0],N=E[1],S=Object(n.useState)(""),C=Object(st.a)(S,2),w=C[0],k=C[1],D=Object(n.useState)(""),L=Object(st.a)(D,2),_=L[0],T=L[1],A=Object(n.useState)(),P=Object(st.a)(A,2),R=P[0],U=P[1],G=Object(n.useState)(!1),B=Object(st.a)(G,2),F=B[0],V=B[1],M=Object(n.useState)(!1),H=Object(st.a)(M,2),z=H[0],K=H[1],Y=Object(n.useState)(!1),Q=Object(st.a)(Y,2),$=Q[0],J=Q[1],W=Object(s.b)(),X=Object(s.c)((function(e){return e.userDetails})),Z=X.loading,ee=X.error,te=X.user,ae=Object(s.c)((function(e){return e.userUpdate})),ie=ae.loading,le=ae.error,oe=ae.success;Object(n.useEffect)((function(){oe?(W({type:se}),a.push("/admin/userlist")):te.firstName&&te._id===c?(o(te.firstName),u(te.lastName),v(te.address),N(te.NIC),k(te.licenseNumber),T(te.contactNumber),U(te.birthday),x(te.email),V(te.isAdmin),J(te.isBlacklisted),K(te.isVerified)):W(ct(c))}),[te,W,c,oe,a]);return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Me.Link,{to:"/admin/userlist",className:"btn  btn-light my-3",children:"Go Back"}),Object(Ye.jsxs)(zt,{children:[Object(Ye.jsx)("h1",{children:"Edit User"}),ie&&Object(Ye.jsx)(Tt,{}),le&&Object(Ye.jsx)(Lt,{variant:"danger",children:le}),Z?Object(Ye.jsx)(Tt,{}):ee?Object(Ye.jsx)(Lt,{variant:"danger",children:ee}):Object(Ye.jsxs)(ot.a,{onSubmit:function(e){e.preventDefault(),W(function(e){return function(){var t=Object(tt.a)(et.a.mark((function t(a,n){var c,r,s,i,l;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ne}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,nt.a.put("/api/users/".concat(e._id),e,s);case 6:i=t.sent,l=i.data,a({type:ce}),a({type:q,payload:l}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:re,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:c,firstName:l,lastName:b,contactNumber:_,NIC:I,licenseNumber:w,address:g,email:p,isAdmin:F,isVerified:z,isBlacklisted:$}))},children:[Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"firstname",children:[Object(Ye.jsx)(ot.a.Label,{children:"First Name"}),Object(Ye.jsx)(ot.a.Control,{type:"name",placeholder:"Enter first name",value:l,onChange:function(e){return o(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"lastname",children:[Object(Ye.jsx)(ot.a.Label,{children:"Last Name"}),Object(Ye.jsx)(ot.a.Control,{type:"name",placeholder:"Enter last name",value:b,onChange:function(e){return u(e.target.value)}})]})})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"contact",children:[Object(Ye.jsx)(ot.a.Label,{children:"Contact Number"}),Object(Ye.jsx)(ot.a.Control,{type:"tel",placeholder:"Enter contact number",value:_,onChange:function(e){return T(e.target.value)}})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"email",children:[Object(Ye.jsx)(ot.a.Label,{children:"Email Address"}),Object(Ye.jsx)(ot.a.Control,{type:"email",placeholder:"Enter email",value:p,onChange:function(e){return x(e.target.value)}})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"license",children:[Object(Ye.jsx)(ot.a.Label,{children:"License Number"}),Object(Ye.jsx)(ot.a.Control,{type:"name",placeholder:"Enter license number",value:w,onChange:function(e){return k(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"nic",children:[Object(Ye.jsx)(ot.a.Label,{children:"NIC"}),Object(Ye.jsx)(ot.a.Control,{type:"name",placeholder:"Enter NIC",value:I,onChange:function(e){return N(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"birthday",children:[Object(Ye.jsx)(ot.a.Label,{children:"Date of birth "}),Object(Ye.jsx)(ot.a.Control,{type:"text",value:R,onChange:function(e){return U(e.target.value)}})]})})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"address",children:[Object(Ye.jsx)(ot.a.Label,{children:"Address"}),Object(Ye.jsx)(ot.a.Control,{type:"name",placeholder:"Enter address",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(Ye.jsxs)(ze.a,{className:"mt-2",children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsx)(ot.a.Group,{controlId:"isadmin",children:Object(Ye.jsx)(ot.a.Check,{type:"checkbox",label:"Admin",checked:F,onChange:function(e){return V(e.target.checked)}})})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsx)(ot.a.Group,{controlId:"isverified",children:Object(Ye.jsx)(ot.a.Check,{type:"checkbox",label:"Verify",checked:z,onChange:function(e){return K(e.target.checked)}})})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsx)(ot.a.Group,{controlId:"isblacklisted",children:Object(Ye.jsx)(ot.a.Check,{type:"checkbox",label:"Blacklist",checked:$,onChange:function(e){return J(e.target.checked)}})})})]}),Object(Ye.jsx)(lt.a,{type:"submit",variant:"success",className:"my-3",style:{width:"100%"},children:"Update"})]})]})]})},ga=function(e){var t=e.history,a=e.match.params.pageNumber||1,c=Object(s.b)(),r=Object(s.c)((function(e){return e.vehicleList})),i=r.loading,l=r.error,o=r.vehicles,d=r.page,b=r.pages,u=Object(s.c)((function(e){return e.vehicleDelete})),h=u.loading,O=u.error,p=u.success,I=Object(s.c)((function(e){return e.vehicleCreate})),N=I.loading,S=I.error,C=I.success,w=I.vehicle,k=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){c({type:E}),k&&k.isAdmin||t.push("/login"),C?t.push("/admin/vehicle/".concat(w._id,"/edit")):c(pt("",a,""))}),[c,t,k,p,C,w,a]);var D=function(e){window.confirm("Are you sure?")&&c(function(e){return function(){var t=Object(tt.a)(et.a.mark((function t(a,n){var c,r,s;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:x}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,nt.a.delete("/api/vehicles/".concat(e),s);case 6:a({type:m}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:f,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)(ze.a,{className:"align-items-center",children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsx)("h1",{children:"Vehicles"})}),Object(Ye.jsx)(Ke.a,{className:"text-right",children:Object(Ye.jsxs)(lt.a,{className:"my-3",onClick:function(){c(function(){var e=Object(tt.a)(et.a.mark((function e(t,a){var n,c,r,s,i;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),n=a(),c=n.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,nt.a.post("/api/vehicles",{},r);case 6:s=e.sent,i=s.data,t({type:v,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:y,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())},children:[Object(Ye.jsx)("i",{className:"fas fa-plus"})," Create Vehicle"]})})]}),h&&Object(Ye.jsx)(Tt,{}),O&&Object(Ye.jsx)(Lt,{variant:"danger",children:O}),N&&Object(Ye.jsx)(Tt,{}),S&&Object(Ye.jsx)(Lt,{variant:"danger",children:S}),i?Object(Ye.jsx)(Tt,{}):l?Object(Ye.jsx)(Lt,{variant:"danger",children:l}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(ja.c,{striped:!0,bordered:!0,small:!0,data:Object(j.a)(Object(j.a)({},{columns:[{label:"LICENSE",field:"licensePlateNumber",sort:"ace",width:150},{label:"NAME",field:"name",sort:"ace",width:150},{label:"PRICE",field:"pricePerDay",sort:"ace",width:150},{label:"TYPE",field:"type",sort:"ace",width:150},{label:"SEATS",field:"seats",sort:"ace",width:150},{label:"TRANSMISSION",field:"transmission",sort:"ace",width:150},{label:"HORSEPOWER",field:"horsepower",sort:"ace",width:150},{label:"ENGINE CAPACITY",field:"engine",sort:"ace",width:150},{label:"MPG",field:"miles_per_gallon",sort:"ace",width:150},{label:"ACTION",field:"action",sort:"ace",width:150}],rows:[]}),{},{rows:Object(At.a)(o.map((function(e){return{name:e.name,licensePlateNumber:e.licensePlateNumber,pricePerDay:e.pricePerDay,type:e.type,seats:e.seats,transmission:e.transmission,horsepower:e.horsepower,engine:e.engine,miles_per_gallon:e.miles_per_gallon,action:Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Xe.LinkContainer,{to:"/admin/vehicle/".concat(e._id,"/edit"),children:Object(Ye.jsx)(lt.a,{variant:"light",className:"btn-sm",children:Object(Ye.jsx)("i",{className:"fas fa-edit"})})}),Object(Ye.jsx)(lt.a,{variant:"danger",className:"btn-sm",onClick:function(){return D(e._id)},children:Object(Ye.jsx)("i",{className:"fas fa-trash"})})]})}})))})}),0==o&&Object(Ye.jsx)(Lt,{children:"Vehicles are not available "}),Object(Ye.jsx)(Rt,{pages:b,page:d,isAdmin:!0})]})]})},va=a(143),ya=a(192),Ea=function(e){var t=e.match,a=e.history,c=t.params.id,r=Object(n.useState)(""),i=Object(st.a)(r,2),l=i[0],o=i[1],j=Object(n.useState)(""),d=Object(st.a)(j,2),b=d[0],u=d[1],h=Object(n.useState)(!1),O=Object(st.a)(h,2),p=O[0],x=O[1],m=Object(n.useState)(0),f=Object(st.a)(m,2),g=f[0],v=f[1],y=Object(n.useState)(0),E=Object(st.a)(y,2),w=E[0],k=E[1],D=Object(n.useState)(0),L=Object(st.a)(D,2),_=L[0],T=L[1],A=Object(n.useState)({}),P=Object(st.a)(A,2),R=P[0],U=P[1],G=Object(n.useState)({}),B=Object(st.a)(G,2),F=B[0],V=B[1],M=Object(n.useState)({}),q=Object(st.a)(M,2),H=q[0],z=q[1],K=Object(n.useState)(0),Y=Object(st.a)(K,2),Q=Y[0],$=Y[1],J=Object(n.useState)(0),W=Object(st.a)(J,2),X=W[0],Z=W[1],ee=Object(n.useState)(0),te=Object(st.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(""),re=Object(st.a)(ce,2),se=re[0],ie=re[1],le=Object(n.useState)(!1),oe=Object(st.a)(le,2),je=oe[0],de=oe[1],be=Object(s.b)(),ue=Object(s.c)((function(e){return e.vehicleDetails})),he=ue.loading,Oe=ue.error,pe=ue.vehicle,xe=Object(s.c)((function(e){return e.vehicleUpdate})),me=xe.loading,fe=xe.error,ge=xe.success;Object(n.useEffect)((function(){ge?(be({type:C}),a.push("/admin/vehiclelist")):pe.name&&pe._id===c?(o(pe.name),u(pe.licensePlateNumber),x(pe.availability),v(pe.miles_per_gallon),k(pe.cylinders),T(pe.horsepower),U({value:pe.transmission,label:pe.transmission}),V({value:pe.type,label:pe.type}),z({value:pe.fuel,label:pe.fuel}),$(pe.engine),Z(pe.seats),ne(pe.pricePerDay),ie(pe.image)):be(xt(c))}),[be,c,pe,a,ge]);var ve=function(){var e=Object(tt.a)(et.a.mark((function e(t){var a,n,c,r,s;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),de(!0),e.prev=4,c={headers:{"Content-Type":"multipart/form-data"}},e.next=8,nt.a.post("/api/upload",n,c);case 8:r=e.sent,s=r.data,ie(s),de(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),de(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Me.Link,{to:"/admin/vehiclelist",className:"btn  btn-light my-3",children:"Go Back"}),Object(Ye.jsxs)(zt,{children:[Object(Ye.jsx)("h1",{children:"Edit Vehicle"}),me&&Object(Ye.jsx)(Tt,{}),fe&&Object(Ye.jsx)(Lt,{variant:"danger",children:fe}),he?Object(Ye.jsx)(Tt,{}):Oe?Object(Ye.jsx)(Lt,{variant:"danger",children:Oe}):Object(Ye.jsxs)(ot.a,{onSubmit:function(e){e.preventDefault(),be(function(e){return function(){var t=Object(tt.a)(et.a.mark((function t(a,n){var c,r,s,i,l;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:I}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,nt.a.put("/api/vehicles/".concat(e._id),e,s);case 6:i=t.sent,l=i.data,a({type:N,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:S,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:c,name:l,licensePlateNumber:b,availability:p,miles_per_gallon:g,cylinders:w,horsepower:_,transmission:R.value,type:F.value,fuel:H.value,engine:Q,seats:X,pricePerDay:ae,image:se}))},children:[Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"name",children:[Object(Ye.jsx)(ot.a.Label,{children:"Name"}),Object(Ye.jsx)(ot.a.Control,{type:"text",placeholder:"Enter Vehicle Name",value:l,onChange:function(e){return o(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"name",children:[Object(Ye.jsx)(ot.a.Label,{children:"License number"}),Object(Ye.jsx)(ot.a.Control,{type:"text",placeholder:"Enter license number",value:b,onChange:function(e){return u(e.target.value)}})]})})]}),Object(Ye.jsx)(Ke.a,{className:"my-3",children:Object(Ye.jsx)(Ft.a,{src:se,alt:se,fluid:!0,rounded:!0})}),Object(Ye.jsxs)(ot.a.Group,{controlId:"image",children:[Object(Ye.jsx)(ot.a.Label,{children:"Image"}),Object(Ye.jsx)(ot.a.Control,{type:"text",placeholder:"Enter image URL",value:se,onChange:function(e){return ie(e.target.value)}}),Object(Ye.jsx)(ot.a.File,{id:"image-file",custom:!0,onChange:ve}),je&&Object(Ye.jsx)(Tt,{})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"type",children:[Object(Ye.jsx)(ot.a.Label,{children:"Vehicle Type"}),Object(Ye.jsx)(ya.a,{options:[{value:"Family Hatchback",label:"Family Hatchback"},{value:"Small Town Car",label:"Small Town Car"},{value:"Van",label:"Van"},{value:"Sedan",label:"Sedan"},{value:"Estate",label:"Estate"}],placeholder:"Vehicle Type...",isSearchable:!0,onChange:V,value:F})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"seats",children:[Object(Ye.jsx)(ot.a.Label,{children:"No. of Seats"}),Object(Ye.jsx)(ot.a.Control,{type:"number",placeholder:"Enter Number of Seats",value:X,onChange:function(e){return Z(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"transmission",children:[Object(Ye.jsx)(ot.a.Label,{children:"Transmission"}),Object(Ye.jsx)(va.a,{options:[{value:"Manual",label:"Manual"},{value:"Automatic",label:"Automatic"}],placeholder:"Transmission",isSearchable:!0,onChange:U,value:R})]})})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"fuel",children:[Object(Ye.jsx)(ot.a.Label,{children:"Fuel Type"}),Object(Ye.jsx)(va.a,{options:[{value:"Petrol",label:"Petrol"},{value:"Diesel",label:"Diesel"},{value:"Hybrid",label:"Hybrid"}],placeholder:"Select fuel type",onChange:z,value:H})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"horsepower",children:[Object(Ye.jsx)(ot.a.Label,{children:"Horsepower"}),Object(Ye.jsx)(ot.a.Control,{type:"number",placeholder:"HP",step:".1",value:_,onChange:function(e){return T(e.target.value)}})]})})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"engine",children:[Object(Ye.jsx)(ot.a.Label,{children:"Engine Capacity"}),Object(Ye.jsx)(ot.a.Control,{type:"number",placeholder:"L",step:".1",value:Q,onChange:function(e){return $(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"milespergallon",children:[Object(Ye.jsx)(ot.a.Label,{children:"Miles Per Gallon"}),Object(Ye.jsx)(ot.a.Control,{type:"number",step:".1",placeholder:"mpg",value:g,onChange:function(e){return v(e.target.value)}})]})}),Object(Ye.jsx)(Ke.a,{children:Object(Ye.jsxs)(ot.a.Group,{controlId:"cylinders",children:[Object(Ye.jsx)(ot.a.Label,{children:"Cylinders"}),Object(Ye.jsx)(ot.a.Control,{type:"number",placeholder:"Enter Cylinders",value:w,onChange:function(e){return k(e.target.value)}})]})})]}),Object(Ye.jsxs)(ot.a.Group,{controlId:"priceperday",children:[Object(Ye.jsx)(ot.a.Label,{children:"Price Per Day"}),Object(Ye.jsx)(ot.a.Control,{type:"number",step:".01",placeholder:"Enter Price Per Day",value:ae,onChange:function(e){return ne(e.target.value)}})]}),Object(Ye.jsx)(ot.a.Group,{controlId:"availability",children:Object(Ye.jsx)(ot.a.Check,{type:"checkbox",label:"Availability",checked:p,onChange:function(e){return x(e.target.checked)}})}),Object(Ye.jsx)(lt.a,{type:"submit",variant:"success",className:"my-3",style:{width:"100%"},children:"Update"})]})]})]})},Ia=function(e){var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.bookingList})),r=c.loading,i=c.error,l=c.bookings,o=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(n.useEffect)((function(){o&&o.isAdmin?a(function(){var e=Object(tt.a)(et.a.mark((function e(t,a){var n,c,r,s,i;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:we}),n=a(),c=n.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,nt.a.get("/api/bookings",r);case 6:s=e.sent,i=s.data,t({type:ke,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:De,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,o]),Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("h1",{children:"Bookings"}),r?Object(Ye.jsx)(Tt,{}):i?Object(Ye.jsx)(Lt,{variant:"danger",children:i}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(ja.c,{striped:!0,bordered:!0,small:!0,data:Object(j.a)(Object(j.a)({},{columns:[{label:"ID",field:"id",sort:"ace",width:150},{label:"USER",field:"user",sort:"ace",width:150},{label:"VEHICLE",field:"vehicle",sort:"ace",width:150},{label:"DATE",field:"date",sort:"ace",width:150},{label:"TOTAL PRICE",field:"total",sort:"ace",width:150},{label:"PAID",field:"paid",sort:"ace",width:150},{label:"VERIFIED",field:"verified",sort:"ace",width:150},{label:"ACTION",field:"action",sort:"ace",width:150}],rows:[]}),{},{rows:Object(At.a)(l.map((function(e){return{id:e._id.substring(5,10),user:"".concat(e.user&&e.user.firstName+" "+e.user.lastName),vehicle:"".concat(e.vehicle&&e.vehicle.name),date:e.createdAt.substring(0,10),total:"$".concat(e.totalPrice),paid:e.isPaid?e.paidAt.substring(0,10):Object(Ye.jsx)("i",{className:"fas fa-times",style:{color:"red"}}),verified:e.isVerified?e.verifiedAt.substring(0,10):Object(Ye.jsx)("i",{className:"fas fa-times",style:{color:"red"}}),action:Object(Ye.jsx)("div",{className:"d-flex justify-content-center",children:Object(Ye.jsx)(Xe.LinkContainer,{to:"/admin/booking/".concat(e._id),children:Object(Ye.jsx)(lt.a,{variant:"success",className:"btn-sm",children:"View Details"})})})}})))})}),0==l&&Object(Ye.jsx)(Lt,{children:"Bookings are not available "})]})]})},Na=function(e){var t=e.history,a=Object(s.c)((function(e){return e.equipmentList})),c=a.loading,r=a.error,i=a.equipments,l=Object(n.useState)(null),o=Object(st.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)([]),u=Object(st.a)(b,2),h=u[0],O=u[1],p=Object(s.b)();return Object(n.useEffect)((function(){p(function(){var e=Object(tt.a)(et.a.mark((function e(t){var a,n;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Pe}),e.next=4,nt.a.get("/api/equipments/");case 4:a=e.sent,n=a.data,t({type:Re,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Ue,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[p]),Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(ba,{step1:!0,step2:!0}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{md:8,children:Object(Ye.jsx)(Vt.a,{variant:"flush",children:Object(Ye.jsxs)(Vt.a.Item,{className:"overflow-auto p-1",style:{maxHeight:"540px"},children:[Object(Ye.jsx)(ze.a,{style:{maxWidth:"540px"},children:Object(Ye.jsx)("h1",{className:"mx-2",children:"Equipements"})}),c?Object(Ye.jsx)(Tt,{}):r?Object(Ye.jsx)(Lt,{variant:"danger",children:r}):i.map((function(e){return Object(Ye.jsx)(ze.a,{style:{maxWidth:"700px"},children:Object(Ye.jsx)(Ke.a,{sm:12,md:12,lg:12,xl:12,children:Object(Ye.jsx)(dt.a,{className:"mx-3 mb-1 rounded equipmentcard",children:Object(Ye.jsxs)(ze.a,{noGutters:!0,children:[Object(Ye.jsx)(Ke.a,{md:4,children:Object(Ye.jsx)(dt.a.Img,{src:e.image})}),Object(Ye.jsx)(Ke.a,{md:3,children:Object(Ye.jsxs)(dt.a.Body,{children:[Object(Ye.jsx)(dt.a.Title,{as:"h6",children:Object(Ye.jsx)("strong",{children:e.name})}),Object(Ye.jsxs)(dt.a.Text,{className:"my-0",as:"p",children:["price: $",e.price]})]})}),Object(Ye.jsx)(Ke.a,{md:4,className:"align-self-end",children:Object(Ye.jsx)(lt.a,{type:"button",className:"btn-block px-5 mx-3 my-auto",variant:"success",onClick:function(){!function(e){var t=e.equipment;h.length<3?O([].concat(Object(At.a)(h),[t])):d("Cannot add more than 3 equipments")}({equipment:e})},children:"Add"})})]})})})},e._id)}))]})})}),Object(Ye.jsx)(Ke.a,{md:4,children:Object(Ye.jsx)(dt.a,{children:Object(Ye.jsxs)(Vt.a,{variant:"flush",children:[Object(Ye.jsxs)(Vt.a.Item,{children:[Object(Ye.jsx)("h2",{children:"Equipment Summery"}),j&&Object(Ye.jsx)(Lt,{variant:"warning",children:j})]}),0!=h&&h.map((function(e){return Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Ke.a,{children:e.name}),Object(Ye.jsxs)(Ke.a,{children:["$",e.price]})]})})})),h.length>0&&Object(Ye.jsx)(Vt.a.Item,{children:Object(Ye.jsx)(lt.a,{style:{width:"100%"},type:"button",className:"btn-block ",variant:"danger",onClick:function(){O([]),d(null)},children:"clear"})}),Object(Ye.jsxs)(Vt.a.Item,{className:"mx-auto",children:[Object(Ye.jsx)(lt.a,{type:"button",className:"btn-block px-5 mx-3",variant:"success",onClick:function(){p(Mt(h)),t.push("/login?redirect=driverDetails")},disabled:0==h.length&&!0,children:"Next"}),Object(Ye.jsx)(lt.a,{type:"button",className:"btn-block px-5 mx-3",variant:"info",onClick:function(){p(Mt()),t.push("/login?redirect=driverDetails")},children:"Skip"})]})]})})})]})]})},Sa=function(){return Object(Ye.jsxs)(Me.BrowserRouter,{children:[Object(Ye.jsx)(rt,{}),Object(Ye.jsx)("main",{className:"py-3",children:Object(Ye.jsxs)(He.a,{children:[Object(Ye.jsx)(qe.d,{path:"/vehicle/:id",component:qt}),Object(Ye.jsx)(qe.d,{path:"/booking/:id",component:xa}),Object(Ye.jsx)(qe.d,{path:"/login",component:Ht}),Object(Ye.jsx)(qe.d,{path:"/register",component:oa}),Object(Ye.jsx)(qe.d,{path:"/profile",component:da}),Object(Ye.jsx)(qe.d,{path:"/equipments",component:Na}),Object(Ye.jsx)(qe.d,{path:"/driverDetails",component:Oa}),Object(Ye.jsx)(qe.d,{path:"/confirmBooking",component:ha}),Object(Ye.jsx)(qe.d,{path:"/payment",component:ua}),Object(Ye.jsx)(qe.d,{path:"/admin/userlist",component:ma}),Object(Ye.jsx)(qe.d,{path:"/admin/user/:id/edit",component:fa}),Object(Ye.jsx)(qe.d,{path:"/admin/vehiclelist",component:ga,exact:!0}),Object(Ye.jsx)(qe.d,{path:"/admin/vehiclelist/:pageNumber",component:ga,exact:!0}),Object(Ye.jsx)(qe.d,{path:"/admin/vehicle/:id/edit",component:Ea}),Object(Ye.jsx)(qe.d,{path:"/admin/bookinglist",component:Ia}),Object(Ye.jsx)(qe.d,{path:"/admin/booking/:id",component:xa}),Object(Ye.jsx)(qe.d,{path:"/search/:keyword",component:Bt,exact:!0}),Object(Ye.jsx)(qe.d,{path:"/page/:pageNumber",component:Bt,exact:!0}),Object(Ye.jsx)(qe.d,{path:"/search/:keyword/page/:pageNumber",component:Bt,exact:!0}),Object(Ye.jsx)(qe.d,{path:"/",component:Bt,exact:!0})]})}),Object(Ye.jsx)(Qe,{})]})},Ca=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,295)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};a(270);r.a.render(Object(Ye.jsx)(s.a,{store:Ve,children:Object(Ye.jsx)(Sa,{})}),document.getElementById("root")),Ca()}},[[271,1,2]]]);
//# sourceMappingURL=main.0a983a35.chunk.js.map